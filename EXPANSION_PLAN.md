# 基估宝 - 功能扩展计划

## 项目现状

**基估宝** 是一个基于 Next.js 的纯前端基金追踪工具，当前版本 0.1.6，主要功能包括：
- 基金实时估值、净值、走势图
- 重仓股盘中追踪
- 持仓管理与收益计算
- 分组管理、OCR识别、云同步

---

## 🚀 扩展功能思维风暴

### 一、智能分析模块 (优先级: ⭐⭐⭐⭐⭐)

#### 1.1 基金组合分析
**价值**: 帮助用户了解整体持仓风险和配置

```
功能点:
├── 资产配置分析
│   ├── 股票/债券/现金比例
│   ├── 行业分布饼图
│   └── 重仓股重叠度检测
├── 风险评估
│   ├── 波动率计算
│   ├── 最大回撤分析
│   └── 夏普比率
└── 相关性分析
    ├── 基金间相关性矩阵
    └── 与大盘指数相关性
```

**技术实现**:
- 使用 Chart.js 的饼图/雷达图
- 历史净值数据计算波动率
- 相关性算法（皮尔逊相关系数）

---

#### 1.2 定投计算器
**价值**: 模拟定投收益，辅助决策

```
功能点:
├── 定投模拟
│   ├── 月投/周投/双周投
│   ├── 起止时间选择
│   └── 分红再投/现金分红
├── 收益对比
│   ├── 定投 vs 一次性投入
│   └── 不同定投频率对比
└── 智能定投
    ├── 估值低位加码
    └── 高位减码策略
```

**UI 设计**:
- 侧边栏或独立页面
- 支持多个基金同时模拟
- 导出定投报告

---

#### 1.3 基金对比功能
**价值**: 帮助用户选择更好的基金

```
功能点:
├── 基础信息对比
│   ├── 规模、成立时间、费率
│   └── 基金经理履历
├── 业绩对比
│   ├── 近1月/3月/1年/3年/5年收益
│   └── 收益走势叠加图
└── 风险对比
    ├── 最大回撤对比
    └── 波动率对比
```

---

### 二、提醒与通知 (优先级: ⭐⭐⭐⭐)

#### 2.1 价格预警
```
功能点:
├── 涨跌幅预警
│   ├── 单日涨跌超过 X%
│   └── 累计涨跌超过 X%
├── 净值预警
│   ├── 净值低于 X
│   └── 净值创 N 日新高/新低
└── 提醒方式
    ├── 浏览器通知 (Notification API)
    └── 浏览器本地存储配置
```

**技术实现**:
- Service Worker + Web Push API
- 或使用 PWA 推送

---

#### 2.2 定投提醒
```
功能点:
├── 定投日期提醒
│   ├── 每月固定日期
│   └── 自定义提醒时间
└── 提醒方式
    ├── 浏览器通知
    └── 邮件提醒（需后端）
```

---

### 三、数据可视化增强 (优先级: ⭐⭐⭐⭐)

#### 3.1 收益时间线
```
功能点:
├── 持有收益曲线
│   ├── 按日/周/月聚合
│   └── 对比沪深300/创业板指
├── 收益分布图
│   ├── 盈利/亏损天数分布
│   └── 单日最大涨跌分布
└── 贡献度分析
    ├── 各基金对总收益贡献
    └── Top 贡献/拖累基金
```

---

#### 3.2 资产配置可视化
```
功能点:
├── 饼图/环形图
│   ├── 按基金类型分布
│   ├── 按行业分布
│   └── 按市值分布
└── 时间演变
    └── 配置变化动画
```

---

#### 3.3 热力图
```
功能点:
├── 日历热力图
│   ├── 每日涨跌用颜色深浅表示
│   └── 直观展示涨跌周期
└── 基金热力图
    └── 多基金涨跌矩阵
```

---

### 四、高级工具 (优先级: ⭐⭐⭐)

#### 4.1 基金筛选器
```
功能点:
├── 基础筛选
│   ├── 基金类型（股票/混合/债券/指数/ETF）
│   ├── 基金规模
│   └── 成立年限
├── 业绩筛选
│   ├── 近N年收益率范围
│   ├── 最大回撤范围
│   └── 波动率范围
└── 高级筛选
    ├── 基金经理
    ├── 基金公司
    └── 费率范围
```

---

#### 4.2 历史回测
```
功能点:
├── 策略回测
│   ├── 定投策略
│   ├── 估值择时策略
│   └── 动态再平衡策略
├── 回测报告
│   ├── 总收益、年化收益
│   ├── 最大回撤、夏普比率
│   └── 资金曲线图
└── 参数优化
    └── 自动寻找最优参数
```

---

#### 4.3 ETF/LOF 支持
```
功能点:
├── 实时行情
│   ├── 场内价格
│   └── IOPV（实时参考净值）
├── 套利监控
│   ├── 溢价/折价率
│   └── 套利空间计算
└── 交易量分析
    └── 成交额、换手率
```

---

### 五、社交与分享 (优先级: ⭐⭐⭐)

#### 5.1 分享功能
```
功能点:
├── 持仓截图
│   ├── 美化模板
│   ├── 隐藏敏感信息
│   └── 水印/品牌标识
├── 收益报告
│   ├── 周/月/年度报告
│   └── 图表+文字总结
└── 导出格式
    ├── PNG 图片
    └── PDF 报告
```

---

#### 5.2 投资笔记
```
功能点:
├── 基金笔记
│   ├── 买入理由
│   ├── 操作记录
│   └── 心得体会
├── 标签管理
│   └── 自定义标签分类
└── 搜索功能
    └── 全文搜索笔记
```

---

### 六、移动端增强 (优先级: ⭐⭐⭐⭐)

#### 6.1 PWA 离线支持
```
功能点:
├── Service Worker 缓存
│   ├── 静态资源离线可用
│   └── API 响应缓存
├── 离线模式
│   ├── 显示缓存数据
│   └── 离线提示
└── 安装到桌面
    ├── iOS/Android 桌面图标
    └── 启动画面
```

---

#### 6.2 手势操作
```
功能点:
├── 下拉刷新
├── 左滑删除
├── 长按拖拽排序
└── 双击切换视图
```

---

#### 6.3 桌面小组件 (iOS/Android)
```
功能点:
├── 快速查看总资产
├── 今日收益
└── 点击跳转主应用
```

---

### 七、AI 智能助手 (优先级: ⭐⭐)

#### 7.1 智能分析报告
```
功能点:
├── AI 解读
│   ├── 持仓分析报告
│   ├── 市场解读
│   └── 操作建议
├── 自然语言查询
│   ├── "我的收益怎么样"
│   ├── "帮我分析风险"
│   └── "推荐类似基金"
└── 智能问答
    └── 基金知识科普
```

**技术实现**:
- 接入 OpenAI/Claude API（需用户配置 Key）
- 或本地部署轻量模型

---

#### 7.2 市场情绪分析
```
功能点:
├── 新闻聚合
│   ├── 基金相关新闻
│   └── 重仓股新闻
├── 情绪打分
│   ├── 基于新闻情感分析
│   └── 多空情绪指数
└── 预警提示
    └── 负面新闻预警
```

---

### 八、数据源增强 (优先级: ⭐⭐⭐)

#### 8.1 多数据源支持
```
功能点:
├── 备用数据源
│   ├── 蛋卷基金 API
│   ├── 支付宝基金 API
│   └── 雪球基金 API
├── 数据源切换
│   ├── 自动故障切换
│   └── 手动选择数据源
└── 数据对比
    └── 多源数据一致性校验
```

---

#### 8.2 历史数据存储
```
功能点:
├── 本地历史数据
│   ├── IndexedDB 存储
│   └── 历史净值本地缓存
├── 数据导出
│   ├── CSV 格式
│   └── Excel 格式
└── 数据同步
    └── 跨设备历史数据同步
```

---

## 📋 推荐实施路线图

### Phase 1: 核心增强 (2-3 周)
- [ ] 基金组合分析（资产配置、风险评估）
- [ ] 基金对比功能
- [ ] 收益时间线图表
- [ ] PWA 离线支持

### Phase 2: 实用工具 (2-3 周)
- [ ] 定投计算器
- [ ] 价格预警系统
- [ ] 基金筛选器
- [ ] 分享功能（截图/PDF）

### Phase 3: 高级功能 (3-4 周)
- [ ] 历史回测
- [ ] ETF/LOF 支持
- [ ] 投资笔记
- [ ] 热力图可视化

### Phase 4: AI 赋能 (2-3 周)
- [ ] AI 智能分析报告
- [ ] 自然语言查询
- [ ] 市场情绪分析

---

## 🎯 优先级排序理由

| 优先级 | 功能 | 理由 |
|--------|------|------|
| ⭐⭐⭐⭐⭐ | 组合分析、对比 | 用户最需要的决策支持 |
| ⭐⭐⭐⭐ | 预警、PWA、可视化 | 提升用户粘性和体验 |
| ⭐⭐⭐ | 筛选、回测、分享 | 高级用户需要的深度功能 |
| ⭐⭐ | AI 功能 | 锦上添花，需考虑成本 |

---

## 💡 技术债务与优化建议

在扩展功能的同时，建议同步进行：

1. **状态管理优化**: 引入 Zustand/Jotai 替代 useState 串联
2. **类型安全**: 逐步迁移到 TypeScript
3. **测试覆盖**: 添加单元测试和 E2E 测试
4. **性能优化**: 虚拟列表、懒加载、缓存策略
5. **错误监控**: 集成 Sentry 等错误追踪工具

---

*文档生成时间: 2026-02-24*
*版本: 1.0*
